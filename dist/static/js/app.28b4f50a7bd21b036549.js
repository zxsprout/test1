webpackJsonp([1],{"4v9I":function(t,e){},"7/0V":function(t,e){},"9jp5":function(t,e){},H3xr:function(t,e){},IWW4:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("VCXJ"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=a("X4nt")({name:"app"},s,!1,function(t){a("Sxuy")},null,null).exports,o=a("IHPB"),i=a.n(o),l=a("zO6J"),c={theme:"dark",accordion:!0,shrink:!0},u={name:"sidebarMenu",props:{shrink:Boolean},data:function(){return{appRouter:$,sidebarMenuConf:c}},computed:{backgroundColor:function(){return"dark"===this.sidebarMenuConf.theme?"#495060":"#fff"},iconColor:function(){return"dark"===this.sidebarMenuConf.theme?"rgba(255, 255, 255, 0.7)":"#495060"}},methods:{changePath:function(t){this.$router.push(t)}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar-menu",style:{background:t.backgroundColor}},[a("transition",{attrs:{name:"fade"}},[t.shrink?a("div",[t._t("logo"),t._v(" "),t._l(t.appRouter,function(e,r){return[a("Dropdown",{key:r,staticClass:"shrink-dropdown",attrs:{transfer:"",placement:"right-start"},on:{"on-click":t.changePath}},[a("Button",{staticClass:"shrink-button",attrs:{type:"text"}},[a("Icon",{staticClass:"shrink-icon",style:{color:t.iconColor},attrs:{type:e.icon}})],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},t._l(e.children,function(e,r){return a("DropdownItem",{key:r,attrs:{name:e.path}},[a("Icon",{key:r,attrs:{type:e.icon}}),t._v("\n              "+t._s(e.title)+"\n            ")],1)}))],1)]})],2):a("Menu",{staticClass:"menu",attrs:{"active-name":t.$route.path,width:"auto",theme:t.sidebarMenuConf.theme,accordion:t.sidebarMenuConf.accordion},on:{"on-select":t.changePath}},[t._t("logo"),t._v(" "),t._l(t.appRouter,function(e,r){return[e.children.length>1?a("Submenu",{key:r,staticClass:"submenu",attrs:{name:e.path}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:e.icon}}),t._v("\n            "+t._s(e.title)+"\n          ")],1),t._v(" "),t._l(e.children,function(e,r){return a("MenuItem",{key:r,attrs:{name:e.path}},[a("Icon",{key:r,attrs:{type:e.icon}}),t._v("\n          "+t._s(e.title)+"\n          ")],1)})],2):a("MenuItem",{key:r,attrs:{name:e.path}},[a("Icon",{key:r,attrs:{type:e.icon}}),t._v("\n        "+t._s(e.title)+"\n        ")],1)]})],2)],1)],1)},staticRenderFns:[]};var h={name:"pageHeader",data:function(){return{sidebarMenuConf:c}},methods:{toggleMenu:function(){this.$emit("toggleMenu")}}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Row",{staticClass:"row",attrs:{type:"flex",align:"middle"}},[e("Col",{attrs:{span:"1"}},[this.sidebarMenuConf.shrink?e("Button",{attrs:{type:"text"},on:{click:this.toggleMenu}},[e("Icon",{attrs:{type:"navicon-round",size:"25"}})],1):this._e()],1),this._v(" "),e("Col",{attrs:{offset:"20",span:"1"}}),this._v(" "),e("Col",{staticClass:"ml-10",attrs:{span:"1"}},[e("Avatar",{attrs:{shape:"square",icon:"person"}})],1)],1)},staticRenderFns:[]};var p={components:{SidebarMenu:a("X4nt")(u,m,!1,function(t){a("ZpEG")},"data-v-2dca8e34",null).exports,PageHeader:a("X4nt")(h,f,!1,function(t){a("IWW4")},"data-v-347aa5e2",null).exports},data:function(){return{shrink:!0}},methods:{toggleMenu:function(){this.shrink=!this.shrink,this.$store.state.shrink=this.shrink}}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Row",{staticClass:"row"},[e("Col",{staticClass:"col",attrs:{span:this.shrink?1:4}},[e("sidebar-menu",{attrs:{shrink:this.shrink}},[e("div",{staticClass:"logo",attrs:{slot:"logo"},slot:"logo"})])],1),this._v(" "),e("Col",{staticClass:"col",attrs:{span:this.shrink?23:20}},[e("page-header",{on:{toggleMenu:this.toggleMenu}}),this._v(" "),e("div",{staticClass:"content"},[e("router-view")],1)],1)],1)},staticRenderFns:[]};var v=a("X4nt")(p,d,!1,function(t){a("Y8UI")},"data-v-0d8870e0",null).exports,_={props:{step:Number}},D={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"step"},[e("Steps",{attrs:{current:this.step}},[e("Step",{attrs:{title:"支出信息",content:"店铺支出信息"}}),this._v(" "),e("Step",{attrs:{title:"销售信息",content:"店铺销售信息"}}),this._v(" "),e("Step",{attrs:{title:"补贴信息",content:"店铺补贴信息"}})],1)],1)},staticRenderFns:[]};var C=a("X4nt")(_,D,!1,function(t){a("XdFU")},"data-v-5e70cfd9",null).exports,b={props:{step:Number},data:function(){return{formData:{name:"默认店铺",area:100,costPerArea:600,personNumber:8,costPerPerson:5e3,otherCost:5e3,sales:6e5,returnRatePerMonth:90,returnValuePerQuarter:4e4,returnRatePerQuarter:90,category:[],allowancePerQuarter:25e3,allowanceForStart:7500},categoryList:["DSC","ILC","Lens","PV","LCD","MDR","SPK","DMP","PS","Mobile","SB","Others"]}},methods:{changeStep:function(t){1===this.step&&this.formData.category.some(function(t){return""===t.name})?this.$Message.error("品类名称不能为空"):this.$emit("changeStep",t)},changeFormData:function(){this.$emit("changeFormData",this.formData)},addCategory:function(){var t=this.formData.category.reduce(function(t,e){return t+e.saleRate},0);this.formData.category.push({name:"",grossProfitRate:5,stableReturnRate:5,returnValuePerMonth:3,saleRate:Math.max(0,100-t),isStable:!1})},removeCategory:function(t){this.formData.category.splice(t,1)},thousands:function(t){if("number"==typeof t&&t==t){var e=(t=String(t)).indexOf(".",1),a=e>0?t.substring(0,e):t,r=[];if(a.length<4)r.unshift(a);else for(var s=a.length;s>0;s-=3)s>3?r.unshift(a.substr(s-3,3)):r.unshift(a.substr(0,s));return r.join(",")}return t},show:function(){console.log(this.formData.category)},toogleStableBtn:function(t,e){var a=this;if(this.formData.category[t].isStable){if(this.formData.category.reduce(function(t,e){return t+e.saleRate},0)>100)return this.$Message.error("销售占比总数不能大于100%"),void setTimeout(function(){a.formData.category[t].isStable=!1},300);""===this.formData.category[t].name&&(this.$Message.error("名称不能为空"),setTimeout(function(){a.formData.category[t].isStable=!1},300))}},changeSaleRate:function(t){var e=this.formData.category.filter(function(e){return!e.isStable&&t!==e}),a=this.formData.category.reduce(function(t,e){return t+e.saleRate},0);if(e&&1===e.length){var r=e[0];r.saleRate=Math.max(0,100+r.saleRate-a)}}},mounted:function(){this.changeFormData()}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"information-form"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0===t.step,expression:"step===0"}],staticClass:"basic-information"},[a("Form",{attrs:{"label-width":100}},[a("h1",[t._v("支出信息")]),t._v(" "),a("FormItem",{attrs:{label:"名称"}},[a("Input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("div",{staticClass:"divider"}),t._v(" "),a("FormItem",{attrs:{label:"店铺面积"}},[a("Slider",{attrs:{"show-input":"",max:200},model:{value:t.formData.area,callback:function(e){t.$set(t.formData,"area",e)},expression:"formData.area"}})],1),t._v(" "),a("FormItem",{attrs:{label:"单位面积月租金"}},[a("InputNumber",{attrs:{step:100,min:0},model:{value:t.formData.costPerArea,callback:function(e){t.$set(t.formData,"costPerArea",e)},expression:"formData.costPerArea"}})],1),t._v(" "),a("FormItem",{attrs:{label:"店铺总月租金"}},[a("span",{staticClass:"total"},[t._v(t._s(t.thousands(t.formData.area*t.formData.costPerArea)))])]),t._v(" "),a("div",{staticClass:"divider"}),t._v(" "),a("FormItem",{attrs:{label:"店员数"}},[a("Slider",{attrs:{"show-input":"",max:20},model:{value:t.formData.personNumber,callback:function(e){t.$set(t.formData,"personNumber",e)},expression:"formData.personNumber"}})],1),t._v(" "),a("FormItem",{attrs:{label:"单人月成本"}},[a("InputNumber",{attrs:{step:1e3,min:0},model:{value:t.formData.costPerPerson,callback:function(e){t.$set(t.formData,"costPerPerson",e)},expression:"formData.costPerPerson"}})],1),t._v(" "),a("FormItem",{attrs:{label:"人工小计"}},[a("span",{staticClass:"total"},[t._v(t._s(t.thousands(t.formData.personNumber*t.formData.costPerPerson)))])]),t._v(" "),a("div",{staticClass:"divider"}),t._v(" "),a("FormItem",{attrs:{label:"杂费"}},[a("InputNumber",{attrs:{step:1e3,min:0},model:{value:t.formData.otherCost,callback:function(e){t.$set(t.formData,"otherCost",e)},expression:"formData.otherCost"}})],1),t._v(" "),a("FormItem",{attrs:{label:"杂费合计"}},[a("span",{staticClass:"total"},[t._v(t._s(t.thousands(t.formData.otherCost)))])]),t._v(" "),a("div",{staticClass:"divider"}),t._v(" "),a("FormItem",{attrs:{label:"支出合计"}},[a("span",{staticClass:"total"},[t._v(t._s(t.thousands(t.formData.area*t.formData.costPerArea+t.formData.personNumber*t.formData.costPerPerson+t.formData.otherCost)))])]),t._v(" "),a("Row",{attrs:{type:"flex",justify:"center"}},[a("Col",{attrs:{span:"4"}},[a("Button",{on:{click:function(e){t.changeStep("next")}}},[t._v("下一步")])],1)],1)],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===t.step,expression:"step===1"}],staticClass:"sale"},[a("Form",{attrs:{"label-width":100}},[a("h1",[t._v("销售信息")]),t._v(" "),a("FormItem",{attrs:{label:"销售总额"}},[a("InputNumber",{attrs:{step:1e4,min:0},model:{value:t.formData.sales,callback:function(e){t.$set(t.formData,"sales",e)},expression:"formData.sales"}})],1),t._v(" "),a("FormItem",{attrs:{label:"销售总额"}},[a("span",{staticClass:"total"},[t._v(t._s(t.thousands(t.formData.sales)))])]),t._v(" "),a("div",{staticClass:"divider"}),t._v(" "),t._l(t.formData.category,function(e,r){return[a("div",{key:r},[a("FormItem",{attrs:{label:"品类名称",required:""}},[a("Row",[a("Col",{attrs:{span:"20"}},[a("Select",{on:{"on-select":t.show},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}},t._l(t.categoryList,function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}))],1),t._v(" "),a("Col",{attrs:{span:"4"}},[a("Button",{staticClass:"remove-btn",on:{click:function(e){t.removeCategory(r)}}},[t._v("remove")])],1)],1)],1),t._v(" "),a("FormItem",{attrs:{label:"销售占比"}},[a("Slider",{attrs:{"show-input":"",disabled:e.isStable},on:{"on-change":function(a){t.changeSaleRate(e)}},model:{value:e.saleRate,callback:function(a){t.$set(e,"saleRate",a)},expression:"item.saleRate"}})],1),t._v(" "),a("FormItem",{attrs:{label:"销售额"}},[a("Row",[a("Col",{attrs:{span:"20"}},[a("span",{staticClass:"total"},[t._v(t._s(t.thousands(t.formData.sales*e.saleRate/100)))])]),t._v(" "),a("Col",{attrs:{span:"4"}},[a("span",[t._v("固定")]),t._v(" "),a("i-switch",{on:{"on-change":function(a){t.toogleStableBtn(r,e)}},model:{value:e.isStable,callback:function(a){t.$set(e,"isStable",a)},expression:"item.isStable"}},[a("Icon",{attrs:{slot:"open",type:"android-done"},slot:"open"}),t._v(" "),a("Icon",{attrs:{slot:"close",type:"android-close"},slot:"close"})],1)],1)],1)],1),t._v(" "),a("FormItem",{attrs:{label:"毛利率"}},[a("Slider",{attrs:{"show-input":"",max:15},model:{value:e.grossProfitRate,callback:function(a){t.$set(e,"grossProfitRate",a)},expression:"item.grossProfitRate"}})],1),t._v(" "),a("FormItem",{attrs:{label:"毛利润"}},[a("span",{staticClass:"total"},[t._v(t._s(t.thousands(t.formData.sales*e.saleRate*e.grossProfitRate/1e4)))])]),t._v(" "),a("FormItem",{attrs:{label:"固返比例"}},[a("Slider",{attrs:{"show-input":"",max:20},model:{value:e.stableReturnRate,callback:function(a){t.$set(e,"stableReturnRate",a)},expression:"item.stableReturnRate"}})],1),t._v(" "),a("FormItem",{attrs:{label:"固返额"}},[a("span",{staticClass:"total"},[t._v(t._s(t.thousands(t.formData.sales*e.saleRate*e.stableReturnRate/1e4)))])]),t._v(" "),a("FormItem",{attrs:{label:"月返比例"}},[a("Slider",{attrs:{"show-input":"",max:20},model:{value:e.returnValuePerMonth,callback:function(a){t.$set(e,"returnValuePerMonth",a)},expression:"item.returnValuePerMonth"}})],1),t._v(" "),a("FormItem",{attrs:{label:"月返额"}},[a("span",{staticClass:"total"},[t._v(t._s(t.thousands(t.formData.sales*e.saleRate*e.returnValuePerMonth*t.formData.returnRatePerMonth/1e6)))])]),t._v(" "),a("div",{staticClass:"divider"})],1)]}),t._v(" "),a("Row",{attrs:{type:"flex",justify:"center"}},[a("Col",{attrs:{span:"12"}},[a("Button",{attrs:{type:"dashed",long:"",icon:"plus-round"},on:{click:t.addCategory}},[t._v("Add category")])],1)],1),t._v(" "),a("div",{staticClass:"divider"}),t._v(" "),a("FormItem",{attrs:{label:"毛利润总额"}},[a("span",{staticClass:"total"},[t._v(t._s(t.thousands(t.formData.category.reduce(function(e,a){return e+t.formData.sales*a.saleRate*a.grossProfitRate/1e4},0))))])]),t._v(" "),a("div",{staticClass:"divider"}),t._v(" "),a("FormItem",{attrs:{label:"固返总额"}},[a("span",{staticClass:"total"},[t._v(t._s(t.thousands(t.formData.category.reduce(function(e,a){return e+t.formData.sales*a.saleRate*a.stableReturnRate/1e4},0))))])]),t._v(" "),a("div",{staticClass:"divider"}),t._v(" "),a("FormItem",{attrs:{label:"月返比例"}},[a("Slider",{attrs:{"show-input":"",max:100},model:{value:t.formData.returnRatePerMonth,callback:function(e){t.$set(t.formData,"returnRatePerMonth",e)},expression:"formData.returnRatePerMonth"}})],1),t._v(" "),a("FormItem",{attrs:{label:"月返总额"}},[a("span",{staticClass:"total"},[t._v(t._s(t.thousands(t.formData.category.reduce(function(e,a){return e+t.formData.sales*a.saleRate*a.returnValuePerMonth*t.formData.returnRatePerMonth/1e6},0))))])]),t._v(" "),a("div",{staticClass:"divider"}),t._v(" "),a("FormItem",{attrs:{label:"季返基数"}},[a("InputNumber",{attrs:{step:1e4,min:0},model:{value:t.formData.returnValuePerQuarter,callback:function(e){t.$set(t.formData,"returnValuePerQuarter",e)},expression:"formData.returnValuePerQuarter"}})],1),t._v(" "),a("FormItem",{attrs:{label:"季返比例"}},[a("Slider",{attrs:{"show-input":"",max:100},model:{value:t.formData.returnRatePerQuarter,callback:function(e){t.$set(t.formData,"returnRatePerQuarter",e)},expression:"formData.returnRatePerQuarter"}})],1),t._v(" "),a("FormItem",{attrs:{label:"月季返总额"}},[a("span",{staticClass:"total"},[t._v(t._s(t.thousands(t.formData.returnValuePerQuarter*t.formData.returnRatePerQuarter/300)))])]),t._v(" "),a("div",{staticClass:"divider"}),t._v(" "),a("FormItem",{attrs:{label:"销售总收入"}},[a("span",{staticClass:"total"},[t._v(t._s(t.thousands(t.formData.category.reduce(function(e,a){return e+t.formData.sales*a.saleRate*a.grossProfitRate/1e4+t.formData.sales*a.saleRate*a.stableReturnRate/1e4+t.formData.sales*a.saleRate*a.returnValuePerMonth*t.formData.returnRatePerMonth/1e6},t.formData.returnValuePerQuarter*t.formData.returnRatePerQuarter/300))))])]),t._v(" "),a("Row",{staticClass:"mt-10",attrs:{type:"flex",justify:"center",gutter:10}},[a("Col",{attrs:{span:"4"}},[a("Button",{on:{click:function(e){t.changeStep("prev")}}},[t._v("上一步")])],1),t._v(" "),a("Col",{attrs:{span:"4"}},[a("Button",{on:{click:function(e){t.changeStep("next")}}},[t._v("下一步")])],1)],1)],2)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2===t.step,expression:"step===2"}],staticClass:"other-information"},[a("Form",{attrs:{"label-width":100}},[a("h1",[t._v("补贴信息")]),t._v(" "),a("FormItem",{attrs:{label:"季度店补"}},[a("InputNumber",{attrs:{step:1e4,min:0},model:{value:t.formData.allowancePerQuarter,callback:function(e){t.$set(t.formData,"allowancePerQuarter",e)},expression:"formData.allowancePerQuarter"}})],1),t._v(" "),a("FormItem",{attrs:{label:"月季度店补总额"}},[a("span",{staticClass:"total"},[t._v(t._s(t.thousands(t.formData.allowancePerQuarter/3)))])]),t._v(" "),a("div",{staticClass:"divider"}),t._v(" "),a("FormItem",{attrs:{label:"开业支持"}},[a("InputNumber",{attrs:{step:1e3,min:0},model:{value:t.formData.allowanceForStart,callback:function(e){t.$set(t.formData,"allowanceForStart",e)},expression:"formData.allowanceForStart"}})],1),t._v(" "),a("FormItem",{attrs:{label:"开业支持总额"}},[a("span",{staticClass:"total"},[t._v(t._s(t.thousands(t.formData.allowanceForStart)))])]),t._v(" "),a("div",{staticClass:"divider"}),t._v(" "),a("FormItem",{attrs:{label:"补贴总额"}},[a("span",{staticClass:"total"},[t._v(t._s(t.thousands(t.formData.allowancePerQuarter/3+t.formData.allowanceForStart)))])]),t._v(" "),a("Row",{staticClass:"mt-10",attrs:{type:"flex",justify:"center",gutter:10}},[a("Col",{attrs:{span:"4"}},[a("Button",{on:{click:function(e){t.changeStep("prev")}}},[t._v("上一步")])],1)],1)],1)],1)])},staticRenderFns:[]};var R=a("X4nt")(b,g,!1,function(t){a("4v9I")},"data-v-124058fd",null).exports,w={props:{formData:Object,step:Number},computed:{cost:function(){return this.formData.area*this.formData.costPerArea+this.formData.personNumber*this.formData.costPerPerson+this.formData.otherCost},income:function(){var t=this;return this.formData.category?this.formData.category.reduce(function(e,a){return e+t.formData.sales*a.saleRate*a.grossProfitRate/1e4+t.formData.sales*a.saleRate*a.stableReturnRate/1e4+t.formData.sales*a.saleRate*a.returnValuePerMonth*t.formData.returnRatePerMonth/1e6},this.formData.returnValuePerQuarter*this.formData.returnRatePerQuarter/300):0},allowance:function(){return this.formData.allowancePerQuarter/3+this.formData.allowanceForStart}},methods:{thousands:function(t){if("number"==typeof t&&t==t){var e=t<0,a=(t=String(Math.abs(t))).indexOf(".",1),r=a>0?t.substring(0,a):t,s=[];if(r.length<4)s.unshift(r);else for(var n=r.length;n>0;n-=3)n>3?s.unshift(r.substr(n-3,3)):s.unshift(r.substr(0,n));return(e?"-":"")+s.join(",")}return t}}},P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",[this._v("名称：\n    "),e("span",{staticClass:"total"},[this._v(this._s(this.thousands(this.formData.name)))])]),this._v(" "),e("p",[this._v("销售总收入：\n    "),e("span",{staticClass:"total"},[this._v(this._s(this.thousands(this.income)))])]),this._v(" "),e("p",[this._v("总补贴：\n    "),e("span",{staticClass:"total"},[this._v("+"+this._s(this.thousands(this.allowance)))])]),this._v(" "),e("p",[this._v("总成本：\n    "),e("span",{staticClass:"total"},[this._v("-"+this._s(this.thousands(this.cost)))])]),this._v(" "),e("hr"),this._v(" "),e("p",[this._v("总盈亏：\n    "),e("span",{staticClass:"total",class:this.income+this.allowance-this.cost>=0?"green":"red"},[this._v(this._s(this.thousands(this.income+this.allowance-this.cost)))])])])},staticRenderFns:[]};var y=a("X4nt")(w,P,!1,function(t){a("XDsB")},"data-v-3a2824e2",null).exports,I=a("7VF+"),x=a.n(I),F={props:{formData:Object,step:Number},data:function(){return{costChart:null,incomeChart:null}},computed:{rent:function(){return this.formData.area*this.formData.costPerArea},laborCost:function(){return this.formData.personNumber*this.formData.costPerPerson},cost:function(){return this.rent+this.laborCost+this.formData.otherCost},income:function(){var t=this;return this.formData.category?this.formData.category.reduce(function(e,a){return e+t.formData.sales*a.saleRate*a.grossProfitRate/1e4+t.formData.sales*a.saleRate*a.stableReturnRate/1e4+t.formData.sales*a.saleRate*a.returnValuePerMonth*t.formData.returnRatePerMonth/1e6},0):0},allowance:function(){return this.formData.allowancePerQuarter/3+this.formData.allowanceForStart+this.formData.returnValuePerQuarter*this.formData.returnRatePerQuarter/300},names:function(){return this.formData.category&&this.formData.category.reduce(function(t,e){return t+e.name},"")}},watch:{cost:function(){this.drawCostChart()},income:function(){this.drawIncomeChart()},allowance:function(){this.drawIncomeChart()},"formData.category.length":function(){this.drawIncomeChart()},names:function(){this.drawIncomeChart()}},methods:{drawCostChart:function(){this.costChart.setOption({title:{text:"支出详情",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["租金支出","人力支出","杂费支出"]},series:[{name:"支出详情",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:this.laborCost,name:"人力支出"},{value:this.formData.otherCost,name:"杂费支出"},{value:this.rent,name:"租金支出"}]}]})},drawIncomeChart:function(){var t,e=this;this.incomeChart.setOption({title:{text:"收入详情",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:(t=["月季返总额","月季度店补总额","开业支持"]).concat.apply(t,i()(this.formData.category.map(function(t){return t.name})))},series:[{name:"收入详情",type:"pie",radius:"55%",center:["50%","60%"],data:[{name:"月季返总额",value:Math.round(this.formData.returnValuePerQuarter*this.formData.returnRatePerQuarter/300)},{name:"月季度店补总额",value:Math.round(this.formData.allowancePerQuarter/3)},{name:"开业支持",value:this.formData.allowanceForStart}].concat(this.formData.category.map(function(t){return{name:t.name,value:e.formData.sales*t.saleRate*t.grossProfitRate/1e4+e.formData.sales*t.saleRate*t.stableReturnRate/1e4+e.formData.sales*t.saleRate*t.returnValuePerMonth*e.formData.returnRatePerMonth/1e6}}))}]})}},mounted:function(){var t=this;this.costChart=x.a.init(document.getElementById("costChart")),this.incomeChart=x.a.init(document.getElementById("incomeChart")),window.addEventListener("resize",function(){t.costChart.resize(),t.incomeChart.resize()})}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:0===this.step,expression:"step===0"}],staticClass:"chart",attrs:{id:"costChart"}}),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:1===this.step||2===this.step,expression:"step===1||step===2"}],staticClass:"chart",attrs:{id:"incomeChart"}})])},staticRenderFns:[]};var M={components:{InformationFormStep:C,InformationForm:R,ComputedInformation:y,InformationChart:a("X4nt")(F,k,!1,function(t){a("H3xr")},"data-v-11baa1d6",null).exports},data:function(){return{step:0,formData:{}}},methods:{changeStep:function(t){this.step="next"===t?Math.min(3,++this.step):Math.max(0,--this.step)},changeFormData:function(t){this.formData=t}}},S={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Row",{staticClass:"mb-10",attrs:{gutter:10}},[e("Col",{attrs:{span:"16"}},[e("Card",[e("p",{attrs:{slot:"title"},slot:"title"},[e("Icon",{attrs:{type:"ios-paper"}}),this._v("\n        Form\n      ")],1),this._v(" "),e("Row",{attrs:{type:"flex",justify:"center"}},[e("Col",{attrs:{span:"16"}},[e("information-form-step",{attrs:{step:this.step}})],1)],1),this._v(" "),e("Row",{attrs:{type:"flex",justify:"center"}},[e("Col",{attrs:{span:"20"}},[e("information-form",{attrs:{step:this.step},on:{changeFormData:this.changeFormData,changeStep:this.changeStep}})],1)],1)],1)],1),this._v(" "),e("Col",{attrs:{span:"8"}},[e("Row",{class:this.$store.state.shrink?"fixed-shrink":"fixed"},[e("Col",{attrs:{span:"24"}},[e("Card",[e("p",{attrs:{slot:"title"},slot:"title"},[e("Icon",{attrs:{type:"stats-bars"}}),this._v("\n          Chart\n        ")],1),this._v(" "),e("information-chart",{attrs:{step:this.step,formData:this.formData}})],1)],1),this._v(" "),e("Col",{staticClass:"mt-10",attrs:{span:"24"}},[e("Card",[e("p",{attrs:{slot:"title"},slot:"title"},[e("Icon",{attrs:{type:"ios-paper"}}),this._v("\n          Result\n        ")],1),this._v(" "),e("computed-information",{attrs:{formData:this.formData,step:this.step}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var $=[{path:"/index/home",icon:"home",title:"主页",component:v,children:[{path:"/index/home",name:"home",icon:"home",title:"主页",component:a("X4nt")(M,S,!1,function(t){a("9jp5")},"data-v-91c31e8a",null).exports}]}];r.default.use(l.a);var N=new l.a({routes:[].concat(i()($),[{path:"/*",redirect:"/index/home"}])}),Q=a("9rMa");r.default.use(Q.a);var V=new Q.a.Store({state:{shrink:!0}}),j=a("S0kX"),B=a.n(j),E=(a("7/0V"),a("2sCs")),X=a.n(E),A=a("MqOw"),O=a.n(A),q=a("rVsN"),H=a.n(q),L=a("DEjr"),T=a.n(L),U={baseURL:{DOMAIN:"http://localhost:3000"}.DOMAIN,headers:{"Content-Type":"application/json;charset=UTF-8"},transformRequest:[]},z={request:{resolve:function(t){return t},reject:function(t){return console.log(t),H.a.reject(t)}},response:{resolve:function(t){return t},reject:function(t){return console.log(t.response),H.a.reject(t)}}};if("application/x-www-form-urlencoded;charset=utf-8"===U.headers["Content-Type"]){U.transformRequest.push(function(t){return t=T.a.stringify(t)})}var W={axiosInstanceConfigure:U,axiosInterceptorsConfigure:z},J=X.a.create(W.axiosInstanceConfigure);J.interceptors.request.use(W.axiosInterceptorsConfigure.request.resolve,W.axiosInterceptorsConfigure.request.reject),J.interceptors.response.use(W.axiosInterceptorsConfigure.response.resolve,W.axiosInterceptorsConfigure.response.reject),r.default.use(O.a,J),r.default.use(B.a),r.default.config.productionTip=!1,new r.default({el:"#app",router:N,store:V,template:"<App/>",components:{App:n}})},Sxuy:function(t,e){},XDsB:function(t,e){},XdFU:function(t,e){},Y8UI:function(t,e){},ZpEG:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.28b4f50a7bd21b036549.js.map