webpackJsonp([1],{"7/0V":function(t,e){},IWW4:function(t,e){},Ms3q:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("VCXJ"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=a("X4nt")({name:"app"},s,!1,function(t){a("Sxuy")},null,null).exports,o=a("IHPB"),i=a.n(o),c=a("zO6J"),l={theme:"dark",accordion:!0,shrink:!0},u={name:"sidebarMenu",props:{shrink:Boolean},data:function(){return{appRouter:$,sidebarMenuConf:l}},computed:{backgroundColor:function(){return"dark"===this.sidebarMenuConf.theme?"#495060":"#fff"},iconColor:function(){return"dark"===this.sidebarMenuConf.theme?"rgba(255, 255, 255, 0.7)":"#495060"}},methods:{changePath:function(t){this.$router.push(t)}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar-menu",style:{background:t.backgroundColor}},[a("transition",{attrs:{name:"fade"}},[t.shrink?a("div",[t._t("logo"),t._v(" "),t._l(t.appRouter,function(e,r){return[a("Dropdown",{key:r,staticClass:"shrink-dropdown",attrs:{transfer:"",placement:"right-start"},on:{"on-click":t.changePath}},[a("Button",{staticClass:"shrink-button",attrs:{type:"text"}},[a("Icon",{staticClass:"shrink-icon",style:{color:t.iconColor},attrs:{type:e.icon}})],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},t._l(e.children,function(e,r){return a("DropdownItem",{key:r,attrs:{name:e.path}},[a("Icon",{key:r,attrs:{type:e.icon}}),t._v("\n              "+t._s(e.title)+"\n            ")],1)}))],1)]})],2):a("Menu",{staticClass:"menu",attrs:{"active-name":t.$route.path,width:"auto",theme:t.sidebarMenuConf.theme,accordion:t.sidebarMenuConf.accordion},on:{"on-select":t.changePath}},[t._t("logo"),t._v(" "),t._l(t.appRouter,function(e,r){return[e.children.length>1?a("Submenu",{key:r,staticClass:"submenu",attrs:{name:e.path}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:e.icon}}),t._v("\n            "+t._s(e.title)+"\n          ")],1),t._v(" "),t._l(e.children,function(e,r){return a("MenuItem",{key:r,attrs:{name:e.path}},[a("Icon",{key:r,attrs:{type:e.icon}}),t._v("\n          "+t._s(e.title)+"\n          ")],1)})],2):a("MenuItem",{key:r,attrs:{name:e.path}},[a("Icon",{key:r,attrs:{type:e.icon}}),t._v("\n        "+t._s(e.title)+"\n        ")],1)]})],2)],1)],1)},staticRenderFns:[]};var p={name:"pageHeader",data:function(){return{sidebarMenuConf:l}},methods:{toggleMenu:function(){this.$emit("toggleMenu")}}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Row",{staticClass:"row",attrs:{type:"flex",align:"middle"}},[e("Col",{attrs:{span:"1"}},[this.sidebarMenuConf.shrink?e("Button",{attrs:{type:"text"},on:{click:this.toggleMenu}},[e("Icon",{attrs:{type:"navicon-round",size:"25"}})],1):this._e()],1),this._v(" "),e("Col",{attrs:{offset:"20",span:"1"}}),this._v(" "),e("Col",{staticClass:"ml-10",attrs:{span:"1"}},[e("Avatar",{attrs:{shape:"square",icon:"person"}})],1)],1)},staticRenderFns:[]};var h={components:{SidebarMenu:a("X4nt")(u,m,!1,function(t){a("ZpEG")},"data-v-2dca8e34",null).exports,PageHeader:a("X4nt")(p,f,!1,function(t){a("IWW4")},"data-v-347aa5e2",null).exports},data:function(){return{shrink:!0}},methods:{toggleMenu:function(){this.shrink=!this.shrink}}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Row",{staticClass:"row"},[e("Col",{staticClass:"col",attrs:{span:this.shrink?1:4}},[e("sidebar-menu",{attrs:{shrink:this.shrink}},[e("div",{staticClass:"logo",attrs:{slot:"logo"},slot:"logo"})])],1),this._v(" "),e("Col",{staticClass:"col",attrs:{span:this.shrink?23:20}},[e("page-header",{on:{toggleMenu:this.toggleMenu}}),this._v(" "),e("div",{staticClass:"content"},[e("router-view")],1)],1)],1)},staticRenderFns:[]};var d=a("X4nt")(h,v,!1,function(t){a("PpXY")},"data-v-0a1f2b37",null).exports,_={props:{step:Number}},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"step"},[e("Steps",{attrs:{current:this.step}},[e("Step",{attrs:{title:"基本信息",content:"店铺基本信息"}}),this._v(" "),e("Step",{attrs:{title:"销售品类",content:"店铺销售品类"}}),this._v(" "),e("Step",{attrs:{title:"销售结构",content:"店铺销售结构"}}),this._v(" "),e("Step",{attrs:{title:"其他信息",content:"店铺其他信息"}})],1)],1)},staticRenderFns:[]};var b=a("X4nt")(_,C,!1,function(t){a("Ms3q")},"data-v-bc4a42fe",null).exports,g={props:{step:Number},data:function(){return{formData:{name:"默认店铺",area:80,costPerArea:1e3,personNumber:5,costPerPerson:5e3,otherCost:1e4,returnValuePerQuarter:0,category:[{name:"",grossProfitRate:0,stableReturnRate:0,returnRatePerMonth:0,saleRate:0}],sales:0},categoryList:["DSC","ILC","Lens"]}},methods:{changeStep:function(t){this.$emit("changeStep",t)},changeFormData:function(){this.$emit("changeFormData",this.formData)},addCategory:function(){this.formData.category.push({name:"",grossProfitRate:0,stableReturnRate:0,returnRatePerMonth:0,saleRate:0})},removeCategory:function(t){this.formData.category.splice(t,1)},filterMethod:function(t,e){return-1!==e.toUpperCase().indexOf(t.toUpperCase())}},mounted:function(){this.changeFormData()}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"information-form"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0===t.step,expression:"step===0"}],staticClass:"basic-information"},[a("Form",{attrs:{"label-width":100}},[a("h1",[t._v("基本信息")]),t._v(" "),a("FormItem",{attrs:{label:"名称"}},[a("Input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("FormItem",{attrs:{label:"店铺面积"}},[a("Slider",{attrs:{"show-input":"",max:200},model:{value:t.formData.area,callback:function(e){t.$set(t.formData,"area",e)},expression:"formData.area"}})],1),t._v(" "),a("FormItem",{attrs:{label:"单位面积月租金"}},[a("InputNumber",{attrs:{"show-input":""},model:{value:t.formData.costPerArea,callback:function(e){t.$set(t.formData,"costPerArea",e)},expression:"formData.costPerArea"}})],1),t._v(" "),a("FormItem",{attrs:{label:"店员数"}},[a("Slider",{attrs:{"show-input":"",max:20},model:{value:t.formData.personNumber,callback:function(e){t.$set(t.formData,"personNumber",e)},expression:"formData.personNumber"}})],1),t._v(" "),a("FormItem",{attrs:{label:"单人成本"}},[a("InputNumber",{attrs:{"show-input":""},model:{value:t.formData.costPerPerson,callback:function(e){t.$set(t.formData,"costPerPerson",e)},expression:"formData.costPerPerson"}})],1),t._v(" "),a("FormItem",{attrs:{label:"杂费"}},[a("InputNumber",{model:{value:t.formData.otherCost,callback:function(e){t.$set(t.formData,"otherCost",e)},expression:"formData.otherCost"}})],1),t._v(" "),a("Row",{attrs:{type:"flex",justify:"center"}},[a("Col",{attrs:{span:"4"}},[a("Button",{on:{click:function(e){t.changeStep("next")}}},[t._v("下一步")])],1)],1)],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===t.step,expression:"step===1"}],staticClass:"sale-category"},[a("Form",{attrs:{"label-width":100}},[a("h1",[t._v("销售品类")]),t._v(" "),a("FormItem",{attrs:{label:"季返基数"}},[a("InputNumber",{model:{value:t.formData.returnValuePerQuarter,callback:function(e){t.$set(t.formData,"returnValuePerQuarter",e)},expression:"formData.returnValuePerQuarter"}})],1),t._v(" "),a("div",{staticClass:"divider"}),t._v(" "),t._l(t.formData.category,function(e,r){return[a("div",{key:r},[a("FormItem",{attrs:{label:"品类名称"}},[a("Row",[a("Col",{attrs:{span:"18"}},[a("AutoComplete",{attrs:{data:t.categoryList,"filter-method":t.filterMethod},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1),t._v(" "),a("Col",{attrs:{span:"6"}},[a("Button",{staticClass:"remove-btn",on:{click:function(e){t.removeCategory(r)}}},[t._v("remove")])],1)],1)],1),t._v(" "),a("FormItem",{attrs:{label:"固返"}},[a("Slider",{attrs:{"show-input":""},model:{value:e.stableReturnRate,callback:function(a){t.$set(e,"stableReturnRate",a)},expression:"item.stableReturnRate"}})],1),t._v(" "),a("FormItem",{attrs:{label:"月返"}},[a("Slider",{attrs:{"show-input":""},model:{value:e.returnRatePerMonth,callback:function(a){t.$set(e,"returnRatePerMonth",a)},expression:"item.returnRatePerMonth"}})],1),t._v(" "),a("div",{staticClass:"divider"})],1)]}),t._v(" "),a("Row",{attrs:{type:"flex",justify:"center"}},[a("Col",{attrs:{span:"12"}},[a("Button",{attrs:{type:"dashed",long:"",icon:"plus-round"},on:{click:t.addCategory}},[t._v("Add category")])],1)],1),t._v(" "),a("Row",{staticClass:"mt-10",attrs:{type:"flex",justify:"center",gutter:10}},[a("Col",{attrs:{span:"4"}},[a("Button",{on:{click:function(e){t.changeStep("prev")}}},[t._v("上一步")])],1),t._v(" "),a("Col",{attrs:{span:"4"}},[a("Button",{on:{click:function(e){t.changeStep("next")}}},[t._v("下一步")])],1)],1)],2)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2===t.step,expression:"step===2"}],staticClass:"sale-rate"},[a("Form",{attrs:{"label-width":100}},[a("h1",[t._v("销售结构")]),t._v(" "),a("FormItem",{attrs:{label:"销售额"}},[a("InputNumber",{model:{value:t.formData.sales,callback:function(e){t.$set(t.formData,"sales",e)},expression:"formData.sales"}})],1),t._v(" "),t._l(t.formData.category,function(e,r){return[a("div",{key:r},[a("FormItem",{attrs:{label:"品类名称"}},[a("Row",[a("Col",{attrs:{span:"18"}},[a("span",[t._v(t._s(e.name))])]),t._v(" "),a("Col",{attrs:{span:"6"}},[a("Button",{staticClass:"remove-btn",on:{click:function(e){t.removeCategory(r)}}},[t._v("remove")])],1)],1)],1),t._v(" "),a("FormItem",{attrs:{label:"毛利率"}},[a("Slider",{attrs:{"show-input":""},model:{value:e.grossProfitRate,callback:function(a){t.$set(e,"grossProfitRate",a)},expression:"item.grossProfitRate"}})],1),t._v(" "),a("FormItem",{attrs:{label:"销售占比"}},[a("Slider",{attrs:{"show-input":""},model:{value:e.saleRate,callback:function(a){t.$set(e,"saleRate",a)},expression:"item.saleRate"}})],1),t._v(" "),a("div",{staticClass:"divider"})],1)]}),t._v(" "),a("Row",{staticClass:"mt-10",attrs:{type:"flex",justify:"center",gutter:10}},[a("Col",{attrs:{span:"4"}},[a("Button",{on:{click:function(e){t.changeStep("prev")}}},[t._v("上一步")])],1),t._v(" "),a("Col",{attrs:{span:"4"}},[a("Button",{on:{click:function(e){t.changeStep("next")}}},[t._v("下一步")])],1)],1)],2)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3===t.step,expression:"step===3"}],staticClass:"other-information"},[a("Form",{attrs:{"label-width":100}},[a("h1",[t._v("其他信息")]),t._v(" "),a("Row",{staticClass:"mt-10",attrs:{type:"flex",justify:"center",gutter:10}},[a("Col",{attrs:{span:"4"}},[a("Button",{on:{click:function(e){t.changeStep("prev")}}},[t._v("上一步")])],1)],1)],1)],1)])},staticRenderFns:[]};var y=a("X4nt")(g,D,!1,function(t){a("o8iQ")},"data-v-2ba1757e",null).exports,R={props:{formData:Object,step:Number},computed:{rent:function(){return this.formData.area*this.formData.costPerArea},laborCost:function(){return this.formData.personNumber*this.formData.costPerPerson},cost:function(){return this.rent+this.laborCost+this.formData.otherCost},income:function(){var t=this;return this.formData.category?this.formData.category.reduce(function(e,a){return e+t.formData.sales*a.saleRate*a.grossProfitRate/1e4+t.formData.sales*a.saleRate*a.stableReturnRate/1e4+t.formData.sales*a.saleRate*a.returnRatePerMonth/1e4*.9},this.formData.returnValuePerQuarter/3*.9):0}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",[t._v("名称："+t._s(t.formData.name))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0===t.step,expression:"step===0"}],staticClass:"cost-result"},[a("p",[t._v("租金："+t._s(t.rent))]),t._v(" "),a("p",[t._v("人力成本："+t._s(t.laborCost))]),t._v(" "),a("p",[t._v("杂费："+t._s(t.formData.otherCost))])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===t.step||2===t.step,expression:"step===1||step===2"}],staticClass:"income-result"},[t._l(t.formData.category,function(e,r){return a("div",{key:r},[a("p",[t._v("品类："+t._s(e.name))]),t._v(" "),a("p",[t._v("销售额："+t._s(t.formData.sales*e.saleRate/100))]),t._v(" "),a("p",[t._v("毛利额："+t._s(t.formData.sales*e.saleRate*e.grossProfitRate/1e4))]),t._v(" "),a("p",[t._v("固返额："+t._s(t.formData.sales*e.saleRate*e.stableReturnRate/1e4))]),t._v(" "),a("p",[t._v("月返额："+t._s(t.formData.sales*e.saleRate*e.returnRatePerMonth/1e4*.9))]),t._v(" "),a("hr")])}),t._v(" "),a("p",[t._v("销售额："+t._s(t.formData.sales))]),t._v(" "),a("p",[t._v("季返额："+t._s(t.formData.returnValuePerQuarter/3*.9))])],2),t._v(" "),a("p",[t._v("总成本："+t._s(t.cost))]),t._v(" "),a("p",[t._v("总收入："+t._s(t.income))]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("总盈亏："+t._s(t.income-t.cost))])])},staticRenderFns:[]};var x=a("X4nt")(R,w,!1,function(t){a("yqKV")},null,null).exports,k=a("7VF+"),I=a.n(k),P={props:{formData:Object,step:Number},data:function(){return{chart:null}},computed:{rent:function(){return this.formData.area*this.formData.costPerArea},laborCost:function(){return this.formData.personNumber*this.formData.costPerPerson}},watch:{rent:function(){this.drawChart()},laborCost:function(){this.drawChart()},"formData.otherCost":function(){this.drawChart()}},methods:{drawChart:function(){this.chart.setOption({title:{text:"成本详情",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["租金成本","人力成本","杂费成本"]},series:[{name:"成本详情",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:this.laborCost,name:"人力成本"},{value:this.formData.otherCost,name:"杂费成本"},{value:this.rent,name:"租金成本"}]}]})}},mounted:function(){var t=this;this.chart=I.a.init(document.getElementById("chart")),window.addEventListener("resize",function(){t.chart.resize()})}},F={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"chart",attrs:{id:"chart"}})])}]};var M={components:{InformationFormStep:b,InformationForm:y,ComputedInformation:x,InformationChart:a("X4nt")(P,F,!1,function(t){a("SKVX")},"data-v-01ae824b",null).exports},data:function(){return{step:0,formData:{}}},methods:{changeStep:function(t){this.step="next"===t?Math.min(3,++this.step):Math.max(0,--this.step)},changeFormData:function(t){this.formData=t}}},S={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Row",{attrs:{gutter:10}},[e("Col",{attrs:{span:"16"}},[e("Card",[e("p",{attrs:{slot:"title"},slot:"title"},[e("Icon",{attrs:{type:"ios-paper"}}),this._v("\n        Form\n      ")],1),this._v(" "),e("Row",{attrs:{type:"flex",justify:"center"}},[e("Col",{attrs:{span:"22"}},[e("information-form-step",{attrs:{step:this.step}})],1)],1),this._v(" "),e("Row",{attrs:{type:"flex",justify:"center"}},[e("Col",{attrs:{span:"20"}},[e("information-form",{attrs:{step:this.step},on:{changeFormData:this.changeFormData,changeStep:this.changeStep}})],1)],1)],1)],1),this._v(" "),e("Col",{attrs:{span:"8"}},[e("Row",[e("Col",{attrs:{span:"24"}},[e("Card",[e("p",{attrs:{slot:"title"},slot:"title"},[e("Icon",{attrs:{type:"stats-bars"}}),this._v("\n          Chart\n        ")],1),this._v(" "),e("information-chart",{attrs:{step:this.step,formData:this.formData}})],1)],1),this._v(" "),e("Col",{staticClass:"mt-10",attrs:{span:"24"}},[e("Card",[e("p",{attrs:{slot:"title"},slot:"title"},[e("Icon",{attrs:{type:"ios-paper"}}),this._v("\n          Result\n        ")],1),this._v(" "),e("computed-information",{attrs:{formData:this.formData,step:this.step}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var $=[{path:"/index/home",icon:"home",title:"主页",component:d,children:[{path:"/index/home",name:"home",icon:"home",title:"主页",component:a("X4nt")(M,S,!1,function(t){a("vXKy")},"data-v-64550c6c",null).exports}]}];r.default.use(c.a);var N=new c.a({routes:[].concat(i()($),[{path:"/*",redirect:"/index/home"}])}),j=a("9rMa");r.default.use(j.a);var X=new j.a.Store({strict:!0}),E=a("S0kX"),V=a.n(E),B=(a("7/0V"),a("2sCs")),A=a.n(B),q=a("MqOw"),O=a.n(q),Q=a("rVsN"),K=a.n(Q),L=a("DEjr"),H=a.n(L),z={baseURL:{DOMAIN:"http://localhost:3000"}.DOMAIN,headers:{"Content-Type":"application/json;charset=UTF-8"},transformRequest:[]},T={request:{resolve:function(t){return t},reject:function(t){return console.log(t),K.a.reject(t)}},response:{resolve:function(t){return t},reject:function(t){return console.log(t.response),K.a.reject(t)}}};if("application/x-www-form-urlencoded;charset=utf-8"===z.headers["Content-Type"]){z.transformRequest.push(function(t){return t=H.a.stringify(t)})}var U={axiosInstanceConfigure:z,axiosInterceptorsConfigure:T},W=A.a.create(U.axiosInstanceConfigure);W.interceptors.request.use(U.axiosInterceptorsConfigure.request.resolve,U.axiosInterceptorsConfigure.request.reject),W.interceptors.response.use(U.axiosInterceptorsConfigure.response.resolve,U.axiosInterceptorsConfigure.response.reject),r.default.use(O.a,W),r.default.use(V.a),r.default.config.productionTip=!1,new r.default({el:"#app",router:N,store:X,template:"<App/>",components:{App:n}})},PpXY:function(t,e){},SKVX:function(t,e){},Sxuy:function(t,e){},ZpEG:function(t,e){},o8iQ:function(t,e){},vXKy:function(t,e){},yqKV:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f8b11bc700cd48d46394.js.map